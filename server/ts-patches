--- compiler/checker.ts
+++ compiler/checker.ts
@@ -2249,6 +2249,13 @@
                         appendSymbolNameOnly(symbol, writer);
                     }
                     parentSymbol = symbol;
+
+                    // nbts: Parent may actually be an alias to a class/interface, not a
+                    // class/interface itself (TS issue #5464)
+                    if ((parentSymbol.flags & (SymbolFlags.Alias | SymbolFlags.Class | SymbolFlags.Interface))
+                            === SymbolFlags.Alias) {
+                        parentSymbol = resolveAlias(parentSymbol);
+                    }
                 }
 
                 // Let the writer know we just wrote out a symbol.  The declaration emitter writer uses
@@ -14203,7 +14210,9 @@
         }
 
         function checkMetaProperty(node: MetaProperty) {
-            checkGrammarMetaProperty(node);
+            if (checkGrammarMetaProperty(node)) {
+                return unknownType;
+            }
             Debug.assert(node.keywordToken === SyntaxKind.NewKeyword && node.name.text === "target", "Unrecognized meta-property.");
             const container = getNewTargetContainer(node);
             if (!container) {
@@ -22269,7 +22278,8 @@
         function checkGrammarMetaProperty(node: MetaProperty) {
             if (node.keywordToken === SyntaxKind.NewKeyword) {
                 if (node.name.text !== "target") {
-                    return grammarErrorOnNode(node.name, Diagnostics._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_0, node.name.text, tokenToString(node.keywordToken), "target");
+                    grammarErrorOnNode(node.name, Diagnostics._0_is_not_a_valid_meta_property_for_keyword_1_Did_you_mean_2, node.name.text, tokenToString(node.keywordToken), "target");
+                    return true;
                 }
             }
         }
--- compiler/diagnosticMessages.json
+++ compiler/diagnosticMessages.json
@@ -3233,7 +3233,7 @@
         "category": "Error",
         "code": 17011
     },
-    "'{0}' is not a valid meta-property for keyword '{1}'. Did you mean '{0}'?": {
+    "'{0}' is not a valid meta-property for keyword '{1}'. Did you mean '{2}'?": {
         "category": "Error",
         "code": 17012
     },
--- services/completions.ts
+++ services/completions.ts
@@ -111,6 +111,7 @@
             kind: SymbolDisplay.getSymbolKind(typeChecker, symbol, location),
             kindModifiers: SymbolDisplay.getSymbolModifiers(symbol),
             sortText: "0",
+            type: typeChecker.typeToString(typeChecker.getTypeOfSymbolAtLocation(symbol, location))
         };
     }
 
--- services/goToDefinition.ts
+++ services/goToDefinition.ts
@@ -82,7 +82,9 @@
             const shorthandSymbolName = typeChecker.symbolToString(shorthandSymbol);
             const shorthandContainerName = typeChecker.symbolToString(symbol.parent, node);
             return map(shorthandDeclarations,
-                declaration => createDefinitionInfo(declaration, shorthandSymbolKind, shorthandSymbolName, shorthandContainerName));
+                // netbeanstypescript edit - node kind is more useful to distinguish the decls
+                //declaration => createDefinitionInfo(declaration, shorthandSymbolKind, shorthandSymbolName, shorthandContainerName));
+                declaration => createDefinitionInfo(declaration, getNodeKind(declaration), shorthandSymbolName, shorthandContainerName));
         }
 
         return getDefinitionFromSymbol(typeChecker, symbol, node);
@@ -131,7 +133,9 @@
             !tryAddCallSignature(symbol, node, symbolKind, symbolName, containerName, result)) {
             // Just add all the declarations.
             forEach(declarations, declaration => {
-                result.push(createDefinitionInfo(declaration, symbolKind, symbolName, containerName));
+                // netbeanstypescript edit - node kind is more useful to distinguish the decls
+                //result.push(createDefinitionInfo(declaration, symbolKind, symbolName, containerName));
+                result.push(createDefinitionInfo(declaration, getNodeKind(declaration), symbolName, containerName));
             });
         }
 
--- services/types.ts
+++ services/types.ts
@@ -566,6 +566,7 @@
         kind: string;            // see ScriptElementKind
         kindModifiers: string;   // see ScriptElementKindModifier, comma separated
         sortText: string;
+        type?: string;
         /**
           * An optional span that indicates the text to be replaced by this completion item. It will be
           * set if the required span differs from the one generated by the default replacement behavior and should
